{{ define "main" }}
  {{ $pages := intersect (where .Site.RegularPages "Type" "in" (slice "projects")) (where .Site.Pages "Params.date" "!=" nil) }}
  <p class="doc-title">目前共 <a href="/tags/Projects/">{{ len $pages }}</a> 个项目，可通过 <a href="/projects/index.xml">RSS</a> 订阅。</p>
  <div class="card-list">
    {{ range .Pages }}
      <a href="{{ .RelPermalink }}" class="card">
        <img src={{ .Params.image | relURL }} />
        <div class="flex justify-between card-title">
          <div>{{ .File.BaseFileName }}</div>
          <div><time style="color: darkgrey;">{{.Date.Format "2006.01"}}</time></div>
        </div>
        <div class="card-content">
          <p>{{ .Description }}</p>
        </div>
      </a>
    {{ end }}
  </div>
{{ end }}
