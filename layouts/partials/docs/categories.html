<nav>
  {{ $scratch := newScratch }}
  {{ range (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
    {{ $scratch.Add "wordcount" .WordCount }}
  {{ end }}
  <p style="color: darkgrey;">共 {{ len (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }} 篇，{{ $scratch.Get "wordcount" | lang.NumFmt 0 }} 字</p>
  <ul>
    {{ range $term := (slice "Categories") }}
    {{ with $.Site.GetPage (printf "/%s" $term | urlize) }}
    <li class="book-section-flat">
      <ul>
        {{ range .Pages }}
        <li class="flex justify-between">
          <a href="#{{ .Title }}">{{ .Title }}</a>
          <span>{{ len .Pages }}</span>
        </li>
        {{ end }}
      </ul>
    </li>
    {{ end }}
    {{ end }}
  </ul>
</nav>