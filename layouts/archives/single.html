{{ define "main" }}
{{ $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}

<p style="color: dimgray;">共 {{ len $pages }} 篇</p>
{{ range $pages.GroupByDate "2006" }}
<section>
  <h2 style="color: dimgray;">{{ .Key }}</h2>
  <div class="posts">
    {{ range .Pages }}
    <div class="post">
      <p><h3><time style="color: darkgrey;">{{.Date.Format "2006-01-02"}}</time> » <a href="{{ .RelPermalink }}">{{ .Title }}</a></h3></p>
    </div>
    {{ end }}
  </div>
</section>
{{ end }}
{{ end }}

{{ define "toc" }}
  {{ partial "docs/taxonomy" . }}
{{ end }}
