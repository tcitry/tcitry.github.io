<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>"Linux" on LYon's Blog</title><link>https://yindongliang.com/docs/Linux/</link><description>Recent content in "Linux" on LYon's Blog</description><generator>Hugo</generator><language>zh-cn</language><atom:link href="https://yindongliang.com/docs/Linux/index.xml" rel="self" type="application/rss+xml"/><item><title>命令行</title><link>https://yindongliang.com/docs/Linux/%E5%91%BD%E4%BB%A4%E8%A1%8C/</link><pubDate>Fri, 02 Mar 2018 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/%E5%91%BD%E4%BB%A4%E8%A1%8C/</guid><description>&lt;h2 id="概要">概要&lt;a class="anchor" href="#%e6%a6%82%e8%a6%81">#&lt;/a>&lt;/h2>
&lt;p>文档可参考 &lt;a href="https://github.com/jlevy/the-art-of-command-line">the-art-of-command-line&lt;/a> / &lt;a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md">命令行的艺术&lt;/a>&lt;/p>
&lt;p>如今有 AI 了，也就不需要记住大量选项，高频使用的命令自然而然会记住。&lt;/p>
&lt;h2 id="awk">awk&lt;a class="anchor" href="#awk">#&lt;/a>&lt;/h2>
&lt;p>AWK 镇楼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>cat table.csv &lt;span style="color:#abb2bf">|&lt;/span> awk -F&lt;span style="color:#98c379">&amp;#39;,&amp;#39;&lt;/span> &lt;span style="color:#98c379">&amp;#39;{print $4}&amp;#39;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="alias">alias&lt;a class="anchor" href="#alias">#&lt;/a>&lt;/h2>
&lt;p>下面是我在 &lt;code>.zshrc&lt;/code> 的 &lt;code>alias&lt;/code> 相关配置，非常实用。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">a&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;. venv/bin/activate&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#98c379">&amp;#39;cd..&amp;#39;&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;cd ..&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">cdr&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;cd-gitroot&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">o&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;open .&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">ctags&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;/usr/local/Cellar/ctags/5.8_1/bin/ctags&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">s&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#63c381">&amp;#34;/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">merge&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#63c381">&amp;#34;/Applications/Sublime\ Merge.app/Contents/SharedSupport/bin/smerge&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">c&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#63c381">&amp;#34;~/.cargo/bin/cargo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">p&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>pyhton3
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">i&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>ipython
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">lg&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;lazygit&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">d&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>docker
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">de&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>deactivate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">k&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>kubectl
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">gg&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>gitup
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">f&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>fuck
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">ts&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>ts-node
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">my&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#63c381">&amp;#34;mycli -uroot -p 12345678 -h localhost&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">stree&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#98c379">&amp;#39;/Applications/SourceTree.app/Contents/Resources/stree&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">alias&lt;/span> &lt;span style="color:#dcaeea">x&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#63c381">&amp;#34;sudo xattr -r -d com.apple.quarantine&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="cat">cat&lt;a class="anchor" href="#cat">#&lt;/a>&lt;/h2>
&lt;h2 id="comm">comm&lt;a class="anchor" href="#comm">#&lt;/a>&lt;/h2>
&lt;p>命令用于比较两个已排过序的文件，不常见但很有用。&lt;/p></description></item><item><title>正则表达式</title><link>https://yindongliang.com/docs/Linux/regular-expression/</link><pubDate>Tue, 13 Mar 2018 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/regular-expression/</guid><description>&lt;h2 id="举例子">举例子&lt;a class="anchor" href="#%e4%b8%be%e4%be%8b%e5%ad%90">#&lt;/a>&lt;/h2>
&lt;p>base64正则匹配&lt;/p>
&lt;pre tabindex="0">&lt;code>^[A-Za-z0-9+/]*={0,2}$&lt;/code>&lt;/pre>&lt;h2 id="特殊字符">特殊字符&lt;a class="anchor" href="#%e7%89%b9%e6%ae%8a%e5%ad%97%e7%ac%a6">#&lt;/a>&lt;/h2>
&lt;p>点 &lt;code>.&lt;/code> 表示匹配换行符 &lt;code>\n&lt;/code> 以外的任何字符。&lt;/p>
&lt;h2 id="限定符">限定符&lt;a class="anchor" href="#%e9%99%90%e5%ae%9a%e7%ac%a6">#&lt;/a>&lt;/h2>
&lt;p>星号 &lt;code>*&lt;/code> 表示匹配前面的子表达式零次或多次。&lt;/p>
&lt;p>加号 &lt;code>+&lt;/code> 表示一次或多次，至少一次。&lt;/p>
&lt;p>问号 &lt;code>?&lt;/code> 表示零次或一次。&lt;/p></description></item><item><title>Shell 脚本</title><link>https://yindongliang.com/docs/Linux/Shell/</link><pubDate>Tue, 19 Mar 2024 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/Shell/</guid><description>&lt;h2 id="bash-版本">Bash 版本&lt;a class="anchor" href="#bash-%e7%89%88%e6%9c%ac">#&lt;/a>&lt;/h2>
&lt;p>Dash: Debian Almquist shell&lt;/p>
&lt;p>现在 zsh 比较常用，配合 &lt;a href="https://ohmyz.sh/">oh-my-zsh&lt;/a> 使用更香，zsh 相比 bash 还支持更多脚本功能。&lt;/p>
&lt;h2 id="shell-的父子关系">Shell 的父子关系&lt;a class="anchor" href="#shell-%e7%9a%84%e7%88%b6%e5%ad%90%e5%85%b3%e7%b3%bb">#&lt;/a>&lt;/h2>
&lt;p>通过 &lt;code>ps -f&lt;/code> 可以查看 &lt;code>PID&lt;/code> 和 &lt;code>PPID&lt;/code> 号来判断父子关系，创建了子 Shell 就意味着创建了子进程。&lt;/p></description></item><item><title>PostgreSQL</title><link>https://yindongliang.com/docs/Linux/PostgreSQL/</link><pubDate>Sat, 20 Sep 2025 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/PostgreSQL/</guid><description>&lt;p>这里整理了一份非常实用的 PostgreSQL 常用命令清单，从连接到数据库、基本操作到高级功能都涵盖了。&lt;/p>
&lt;h3 id="1-连接与退出数据库">1. 连接与退出数据库&lt;a class="anchor" href="#1-%e8%bf%9e%e6%8e%a5%e4%b8%8e%e9%80%80%e5%87%ba%e6%95%b0%e6%8d%ae%e5%ba%93">#&lt;/a>&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>连接到一个特定的数据库&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>psql -h &amp;lt;主机名&amp;gt; -p &amp;lt;端口号&amp;gt; -U &amp;lt;用户名&amp;gt; -d &amp;lt;数据库名&amp;gt;&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>例如，连接本地的 &lt;code>mydb&lt;/code> 数据库：&lt;code>psql -h localhost -p 5432 -U postgres -d mydb&lt;/code>&lt;/li>
&lt;li>如果连接本地默认端口（5432）的默认数据库，可以简写为：&lt;code>psql -U postgres&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>退出 psql 命令行界面&lt;/strong>：&lt;/p></description></item><item><title>n8n 介绍</title><link>https://yindongliang.com/docs/Linux/n8n/</link><pubDate>Sat, 06 Sep 2025 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/n8n/</guid><description>&lt;p>&lt;a href="https://n8n.io/">n8n&lt;/a> 是一款功能强大的开源工作流自动化工具，它通过可视化的方式让你能够连接各种应用、服务和数据，自动执行重复性的任务和业务流程。&lt;/p>
&lt;p>&lt;a href="https://docs.n8n.io/">https://docs.n8n.io/&lt;/a>&lt;/p>
&lt;h1 id="-n8n-工作流自动化平台全面指南">🔧 n8n 工作流自动化平台全面指南&lt;a class="anchor" href="#-n8n-%e5%b7%a5%e4%bd%9c%e6%b5%81%e8%87%aa%e5%8a%a8%e5%8c%96%e5%b9%b3%e5%8f%b0%e5%85%a8%e9%9d%a2%e6%8c%87%e5%8d%97">#&lt;/a>&lt;/h1>
&lt;h2 id="-核心特点">✨ 核心特点&lt;a class="anchor" href="#-%e6%a0%b8%e5%bf%83%e7%89%b9%e7%82%b9">#&lt;/a>&lt;/h2>
&lt;p>n8n 有以下几个突出的特点，使其在自动化工具中脱颖而出：&lt;/p></description></item><item><title>WebHook URL 概念</title><link>https://yindongliang.com/docs/Linux/WebHook-URL/</link><pubDate>Sat, 06 Sep 2025 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/WebHook-URL/</guid><description>&lt;p>关于 Webhook URL 本身并没有一个全球统一的硬性标准，但它有一些广泛接受的实践和常见要求，这些“事实上的标准”确保了不同系统之间能够可靠、安全地协作。&lt;/p>
&lt;p>下面这个表格汇总了 Webhook URL 及请求的主要实践和常见要求，希望能帮你快速了解：&lt;/p></description></item><item><title>Spark</title><link>https://yindongliang.com/docs/Linux/Spark/</link><pubDate>Mon, 16 Oct 2023 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/Spark/</guid><description>&lt;p>Spark 是内存密集型的分布式大数据计算引擎。Apache Spark™ is a multi-language &lt;strong>engine&lt;/strong> for executing data engineering, data science, and machine learning on single-node machines or clusters&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>Spark 生态圈以 Spark Core 为核心，支持从 HDFS、Amazon S3、HBase、ElasticSearch、MongoDB、MySQL、Kafka 等多种数据源读取数据。同时，Spark 支持以 Standalone、Hadoop YARN、Apache Mesos、Kubernetes 为资源管理器调度任务，从而完成 Spark 应用程序的计算任务。&lt;/p></description></item><item><title>Linux 运维</title><link>https://yindongliang.com/docs/Linux/Linux-%E8%BF%90%E7%BB%B4/</link><pubDate>Thu, 18 May 2023 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/Linux-%E8%BF%90%E7%BB%B4/</guid><description>&lt;h2 id="权限系统">权限系统&lt;a class="anchor" href="#%e6%9d%83%e9%99%90%e7%b3%bb%e7%bb%9f">#&lt;/a>&lt;/h2>
&lt;p>Linux 系统使用一个专门的 &lt;code>/etc/passwd&lt;/code> 文件来匹配登录名与对应的 UID 值，用户密码不保存在此文件，而是在 &lt;code>/etc/shadow&lt;/code> 中，只有特定程序或 root 才可以访问。&lt;/p>
&lt;h3 id="用户管理">用户管理&lt;a class="anchor" href="#%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86">#&lt;/a>&lt;/h3>
&lt;p>使用 &lt;code>useradd&lt;/code> 来创建新用户，&lt;code>userdel&lt;/code> 来删除用户，&lt;code>usermod&lt;/code> 来修改用户信息。&lt;/p></description></item><item><title>认识下 Kubernetes</title><link>https://yindongliang.com/docs/Linux/hello-k8s/</link><pubDate>Sun, 09 Oct 2022 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/hello-k8s/</guid><description>&lt;h2 id="一kubernetes-体系架构">一、Kubernetes 体系架构&lt;a class="anchor" href="#%e4%b8%80kubernetes-%e4%bd%93%e7%b3%bb%e6%9e%b6%e6%9e%84">#&lt;/a>&lt;/h2>
&lt;h3 id="11-核心架构概述">1.1 核心架构概述&lt;a class="anchor" href="#11-%e6%a0%b8%e5%bf%83%e6%9e%b6%e6%9e%84%e6%a6%82%e8%bf%b0">#&lt;/a>&lt;/h3>
&lt;p>Kubernetes 采用主从架构，主要由&lt;strong>控制平面（Control Plane）&lt;/strong> 和&lt;strong>工作节点（Worker Nodes）&lt;/strong> 组成。&lt;/p>
&lt;pre tabindex="0">&lt;code>┌─────────────────────────────────────────────────────────────┐
│ 控制平面 (Control Plane) │
│ ┌─────────────┐ ┌──────────┐ ┌─────────────┐ ┌────────┐ │
│ │ API Server │ │ etcd │ │ Scheduler │ │Controller││
│ │ │ │ │ │ │ │ Manager ││
│ └─────────────┘ └──────────┘ └─────────────┘ └────────┘ │
└─────────────────────────────────────────────────────────────┘
 │
 ▼
┌─────────────────────────────────────────────────────────────┐
│ 工作节点 (Worker Nodes) │
│ ┌─────────────┐ ┌──────────┐ ┌─────────────┐ │
│ │ kubelet │ │ kube-proxy│ │ 容器运行时 │ │
│ │ │ │ │ │ (Docker等) │ │
│ └─────────────┘ └──────────┘ └─────────────┘ │
│ ┌───────────────────────────────────────────────────────┐ │
│ │ Pod (容器组) │ │
│ │ ┌──────────────┐ ┌──────────────┐ │ │
│ │ │ 容器1 │ │ 容器2 │ │ │
│ │ │ (应用) │ │ (边车等) │ │ │
│ │ └──────────────┘ └──────────────┘ │ │
│ └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘&lt;/code>&lt;/pre>&lt;h3 id="12-控制平面组件">1.2 控制平面组件&lt;a class="anchor" href="#12-%e6%8e%a7%e5%88%b6%e5%b9%b3%e9%9d%a2%e7%bb%84%e4%bb%b6">#&lt;/a>&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>API Server&lt;/strong>: 所有操作的入口点，处理REST请求&lt;/li>
&lt;li>&lt;strong>etcd&lt;/strong>: 分布式键值存储，保存集群状态&lt;/li>
&lt;li>&lt;strong>Scheduler&lt;/strong>: 将Pod调度到合适的节点&lt;/li>
&lt;li>&lt;strong>Controller Manager&lt;/strong>: 运行控制器，确保集群处于期望状态&lt;/li>
&lt;/ul>
&lt;h3 id="13-工作节点组件">1.3 工作节点组件&lt;a class="anchor" href="#13-%e5%b7%a5%e4%bd%9c%e8%8a%82%e7%82%b9%e7%bb%84%e4%bb%b6">#&lt;/a>&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>kubelet&lt;/strong>: 节点代理，与API Server通信&lt;/li>
&lt;li>&lt;strong>kube-proxy&lt;/strong>: 网络代理，处理服务发现和负载均衡&lt;/li>
&lt;li>&lt;strong>容器运行时&lt;/strong>: 运行容器的软件（Docker, containerd等）&lt;/li>
&lt;/ul>
&lt;h2 id="二核心概念">二、核心概念&lt;a class="anchor" href="#%e4%ba%8c%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5">#&lt;/a>&lt;/h2>
&lt;h3 id="21-pod">2.1 Pod&lt;a class="anchor" href="#21-pod">#&lt;/a>&lt;/h3>
&lt;p>最小的部署单元，包含一个或多个容器，共享存储和网络&lt;/p></description></item><item><title>Docker</title><link>https://yindongliang.com/docs/Linux/Docker/</link><pubDate>Mon, 20 Aug 2018 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/Docker/</guid><description>&lt;p>&lt;a href="https://docs.docker.com/">https://docs.docker.com/&lt;/a>&lt;/p>
&lt;h2 id="相关概念">相关概念&lt;a class="anchor" href="#%e7%9b%b8%e5%85%b3%e6%a6%82%e5%bf%b5">#&lt;/a>&lt;/h2>
&lt;p>scratch 镜像是一个空的镜像文件，适合通过 scratch 来构建一个基础镜像，也特别适合创建超级小的镜像。&lt;/p>
&lt;h2 id="常用命令">常用命令&lt;a class="anchor" href="#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4">#&lt;/a>&lt;/h2>
&lt;h2 id="各语言打包举例">各语言打包举例&lt;a class="anchor" href="#%e5%90%84%e8%af%ad%e8%a8%80%e6%89%93%e5%8c%85%e4%b8%be%e4%be%8b">#&lt;/a>&lt;/h2>
&lt;h3 id="golang">Golang&lt;a class="anchor" href="#golang">#&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">FROM&lt;/span>&lt;span style="color:#98c379"> golang:1.12.17 AS build-env&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">ADD&lt;/span> . /go/src/gitlab.com/tcitry/gogogo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">WORKDIR&lt;/span>&lt;span style="color:#98c379"> /go/src/gitlab.com/tcitry/gogogo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">RUN&lt;/span> go build -o /build/gogogo main.go
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">FROM&lt;/span>&lt;span style="color:#98c379"> golang:1.12.17&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> --from&lt;span style="color:#54b1c7">=&lt;/span>build-env /build/gogogo /data/src/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> conf/test.toml /data/src/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> entrypoint.sh /data/src/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">EXPOSE&lt;/span>&lt;span style="color:#98c379"> 5555&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">ENTRYPOINT&lt;/span> &lt;span style="color:#abb2bf">[&lt;/span>&lt;span style="color:#63c381">&amp;#34;/data/src/entrypoint.sh&amp;#34;&lt;/span>&lt;span style="color:#abb2bf">]&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8a93a5;font-style:italic">#!/bin/sh&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mv test.toml config.toml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">if&lt;/span> &lt;span style="color:#54b1c7">[&lt;/span> -z &lt;span style="color:#dcaeea">$COMMAND&lt;/span> &lt;span style="color:#54b1c7">]&lt;/span>&lt;span style="color:#abb2bf">;&lt;/span> &lt;span style="color:#76a9f9">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">if&lt;/span> &lt;span style="color:#54b1c7">[&lt;/span> ! -z &lt;span style="color:#dcaeea">$1&lt;/span> &lt;span style="color:#54b1c7">]&lt;/span> &lt;span style="color:#abb2bf">;&lt;/span> &lt;span style="color:#76a9f9">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#dcaeea">COMMAND&lt;/span>&lt;span style="color:#54b1c7">=&lt;/span>&lt;span style="color:#dcaeea">$@&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">exec&lt;/span> /data/src/gogogo &lt;span style="color:#dcaeea">$COMMAND&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">exec&lt;/span> /data/src/gogogo &lt;span style="color:#dcaeea">$COMMAND&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">fi&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="python">Python&lt;a class="anchor" href="#python">#&lt;/a>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">FROM&lt;/span>&lt;span style="color:#98c379"> python:3.6&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">WORKDIR&lt;/span>&lt;span style="color:#98c379"> /data/src&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> ./requirements.txt /data/src/requirements.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">RUN&lt;/span> pip3 install -r requirements.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> . /data/src
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> .env.example .env
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">COPY&lt;/span> ./docker-entrypoint.sh /entrypoint.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">ENTRYPOINT&lt;/span> &lt;span style="color:#abb2bf">[&lt;/span>&lt;span style="color:#63c381">&amp;#34;/entrypoint.sh&amp;#34;&lt;/span>&lt;span style="color:#abb2bf">]&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8a93a5;font-style:italic">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">case&lt;/span> &lt;span style="color:#63c381">&amp;#34;&lt;/span>&lt;span style="color:#dcaeea">$1&lt;/span>&lt;span style="color:#63c381">&amp;#34;&lt;/span> in
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">run&lt;/span>server&lt;span style="color:#54b1c7">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">exec&lt;/span> python3 manage.py &lt;span style="color:#63c381">&amp;#34;&lt;/span>&lt;span style="color:#dcaeea">$@&lt;/span>&lt;span style="color:#63c381">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#abb2bf">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">esac&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">if&lt;/span> &lt;span style="color:#54b1c7">[&lt;/span> -z &lt;span style="color:#dcaeea">$1&lt;/span> &lt;span style="color:#54b1c7">]&lt;/span> &lt;span style="color:#abb2bf">;&lt;/span> &lt;span style="color:#76a9f9">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">exec&lt;/span> gunicorn -b 0.0.0.0:8000 -w &lt;span style="color:#d19a66">4&lt;/span> -t &lt;span style="color:#d19a66">90&lt;/span> -p /var/run/project.pid project.wsgi:application
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#76a9f9">fi&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Git</title><link>https://yindongliang.com/docs/Linux/git/</link><pubDate>Sat, 24 Mar 2018 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/git/</guid><description>&lt;h2 id="分支管理必读">分支管理必读&lt;a class="anchor" href="#%e5%88%86%e6%94%af%e7%ae%a1%e7%90%86%e5%bf%85%e8%af%bb">#&lt;/a>&lt;/h2>
&lt;p>&lt;a href="https://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model&lt;/a>&lt;/p>
&lt;h2 id="github-网络问题">Github 网络问题&lt;a class="anchor" href="#github-%e7%bd%91%e7%bb%9c%e9%97%ae%e9%a2%98">#&lt;/a>&lt;/h2>
&lt;p>如果在本地 Terminal push 不上去代码，可以尝试在 &lt;code>/etc/hosts&lt;/code> 中加入下面代码，明确指定 github.com 的 IP 地址。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>140.82.112.4 github.com&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>另外也可以尝试修改 DNS，防止被污染。&lt;/p></description></item><item><title/><link>https://yindongliang.com/docs/Linux/Hadoop/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/Hadoop/</guid><description/></item><item><title/><link>https://yindongliang.com/docs/Linux/SQL-%E6%8A%80%E5%B7%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://yindongliang.com/docs/Linux/SQL-%E6%8A%80%E5%B7%A7/</guid><description/></item></channel></rss>